{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pa'arriba - ¬°Tu Transformaci√≥n Digital!</title>
    <!-- Favicon de Pa'arriba -->
    <link rel="icon" href="{% static 'core/logo_pa_arriba_fav_icon.png' %}" type="image/png">
    <!-- Importaci√≥n de la fuente Montserrat directamente en el HTML para evitar errores de Django -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;900&display=swap">
    <link rel="stylesheet" href="{% static 'core/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Tailwind CSS CDN para clases de utilidad -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.com/en_US/fbevents.js');
    fbq('init', '755565750458789'); // TU ID DE P√çXEL REAL
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=755565750458789&ev=PageView&noscript=1" // TU ID DE P√çXEL REAL
    /></noscript>
    <!-- End Meta Pixel Code -->
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@graph": [
    {
      "@type": "Product",
      "name": "Kit SEO para Negocios Locales",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=SEO+Kit",
      "description": "Haz que tu negocio aparezca en Google y en b√∫squedas locales sin ser experto en SEO. Este kit incluye auditor√≠a, palabras clave estrat√©gicas y seguimiento pr√°ctico.",
      "sku": "h1",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "49.99",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Apps y Webs para Proyectos Peque√±os",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Apps+Proyectos",
      "description": "Soluciones digitales personalizadas desde $9.99 para organizar, comunicar y ejecutar tareas en peque√±os negocios o emprendimientos. Precio seg√∫n funcionalidad.",
      "sku": "h2",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "9.99",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "App de Email Marketing para Emprendedores",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Email+Mkt+App",
      "description": "Automatiza tus campa√±as de correo, conecta con tus clientes y vende sin complicarte. Especialmente dise√±ada para emprendedores con tiempo limitado.",
      "sku": "h3",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "29.99",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Curso a Domicilio de Marketing Digital (20h)",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Curso+Mkt+Domicilio",
      "description": "Aprende a vender en redes, buscadores y por contenido desde cero. Este curso presencial est√° dise√±ado para emprendedores autodidactas que quieren dominar el marketing sin complicarse.",
      "sku": "c1",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "200.00",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Certificaci√≥n en Control de Costos para Emprendedores",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Control+de+Costos",
      "description": "Aprende a calcular correctamente el precio de venta de tus productos y servicios. Este curso te da la claridad financiera que tu negocio necesita para crecer con rentabilidad.",
      "sku": "c2",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "29.99",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Crea tu Web sin Programar y Vende Online (15h)",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Bootcamp+Web",
      "description": "Dise√±a tu sitio web y activa tu canal de ventas online sin saber c√≥digo. Te guiamos paso a paso para que lances tu plataforma digital en s√≥lo 15 horas.",
      "sku": "c3",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "150.00",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Consultor√≠a Estrat√©gica Personalizada (1h)",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Consultoria+1h",
      "description": "En esta sesi√≥n 1:1 descubrimos oportunidades, aclaramos bloqueos y trazamos acciones rentables para tu negocio. Ideal para emprendedores en fase de reinvenci√≥n.",
      "sku": "s1",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "9.50",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Auditor√≠a SEO con Recomendaciones Pr√°cticas",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Auditor√≠a+SEO",
      "description": "Revisamos tu sitio y te entregamos un plan para posicionarte mejor en buscadores. Te decimos qu√© mejorar y c√≥mo hacerlo, sin tecnicismos.",
      "sku": "s2",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "36.00",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Mentor√≠a Semanal de Marketing Digital (10h)",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Mentor√≠a+Semanal",
      "description": "Durante la semana, te guiamos en campa√±as reales, ajustes de estrategia, y generaci√≥n de resultados concretos. Trabajo intensivo para negocios que quieren crecer cada semana.",
      "sku": "s3",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "60.00",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Plantillas Profesionales para Redes Sociales",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Plantillas+RRSS",
      "description": "Dise√±os modernos y editables listos para tus publicaciones en Instagram, Facebook y TikTok. Ideal para emprendedores que quieren ahorrar tiempo sin perder calidad.",
      "sku": "p1",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "4.99",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Gu√≠a Editable para tu Plan de Negocios",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Gu√≠a+Negocios",
      "description": "Completa esta gu√≠a con tus datos y define tu idea, tus costos, tus proyecciones y tu modelo. Ideal para negocios nuevos o en redise√±o.",
      "sku": "p2",
      "brand": { "@type": "Brand", "name": "Pa'Arriba" },
      "offers": {
        "@type": "Offer",
        "priceCurrency": "USD",
        "price": "9.99",
        "availability": "https://schema.org/InStock"
      }
    },
    {
      "@type": "Product",
      "name": "Kit Gr√°fico para Emprendedores",
      "image": "https://placehold.co/150x150/E0E0E0/333333?text=Kit+Gr√°fico",
      "description": "Recursos visuales editables que incluyen iconos, banners, fondos y mockups para redes sociales, presentaciones y p√°ginas web. Profesionaliza tu imagen sin pagar dise√±o gr√°fico.", "sku": "p3", "brand": { "@type": "Brand", "name": "Pa'Arriba" }, "offers": { "@type": "Offer", "priceCurrency": "USD", "price": "4.99", "availability": "https://schema.org/InStock" 
} 
} 
] 
} 
</script>
</head>
<body>
    <header class="hero-section">
        <!-- Contenedor para el logo y la onda que se har√° sticky -->
        <div class="sticky-header-wrapper">
            <div class="sticky-header-content">
                <div class="logo-animado">
                    <img src="{% static 'core/logo_pa_arriba.png' %}" alt="Logo Pa'arriba" class="logo-image">
                </div>
                <!-- Contenedor para la onda de frecuencia debajo del logo -->
                <div class="frequency-wave-container">
                    <div class="frequency-wave"></div>
                </div>
            </div>
        </div>
        <!-- FIN NUEVO CONTENEDOR -->

        <h1>Pa'arriba: Crece, Avanza, Mejora, Re-emprende</h1>
        <p>Impulsando tu Transformaci√≥n Digital y Evoluci√≥n como Emprendedor</p>

        <!-- INICIO: Bombilla con cadena y efecto de encendido - REUBICADA Y AJUSTADA -->
        <!-- La bombilla se coloca aqu√≠, debajo del p√°rrafo, y se ajusta su posici√≥n con CSS -->
        <div class="lightbulb-container" onclick="toggleBulb()">
            <!-- SVG de la bombilla y la cadena consolidados -->
            <svg class="bulb-svg" viewBox="0 -10 100 240" xmlns="http://www.w3.org/2000/svg">
                <!-- Bombilla (vidrio) -->
                <path class="bulb-glass" d="M50,0 C25,0 15,25 15,60 C15,95 25,120 35,130 L65,130 C75,120 85,95 85,60 C85,25 75,0 50,0 Z" />

                <!-- Reflejo -->
                <path class="glass-reflection" d="M40,10 Q55,5 60,25 Q50,20 40,10 Z" />

                <!-- Base met√°lica -->
                <rect x="35" y="130" width="30" height="10" class="base-top" />
                <rect x="38" y="140" width="24" height="5" class="base-middle" />
                <rect x="40" y="145" width="20" height="3" class="base-bottom" />

                <!-- Filamento -->
                <path class="filament" d="M45,40 Q50,30 55,40 M45,45 L55,45 M45,50 Q50,60 55,50 M48,55 L48,125 M52,55 L52,125" />

                <!-- Cadena - y2 ajustado para ser 30% m√°s larga -->
                <line class="chain-line" x1="50" y1="148" x2="50" y2="219.5" />
                <!-- Sujetador - cy ajustado para la nueva longitud de la cadena -->
                <circle class="chain-end" cx="50" cy="222" r="3" />
                
                <!-- Luz encendida -->
                <circle class="bulb-glow" cx="50" cy="65" r="40" />
            </svg>
        </div>
        <!-- FIN: Bombilla con cadena y efecto de encendido -->
    </header>

    <!-- Contenedor principal para las tarjetas de acorde√≥n -->
    <main id="accordion-container">
        <!-- Tarjeta para la secci√≥n de Filosof√≠a -->
        <div class="accordion-card filosofia-card" data-section-id="filosofia">
            <div class="accordion-header">
                <h2>Nuestra Filosof√≠a</h2>
                <span class="accordion-icon">+</span>
            </div>
            <div class="accordion-content">
                <section class="filosofia-section">
                    <!-- Contenedor para part√≠culas -->
                    <div id="tsparticles" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;">
                        <!-- El canvas para las part√≠culas ser√° creado y gestionado por el script -->
                        <canvas id="particlesCanvas"></canvas>
                    </div>
                    <div class="content-box">
                        <h3>Misi√≥n</h3>
                        <p>Ser el motor que impulse la transformaci√≥n digital de emprendedores, proporcionando soluciones innovadoras y personalizadas que les permitan crecer, avanzar, mejorar y re-emprender en un entorno digital en constante evoluci√≥n.</p>
                        <h3>Visi√≥n</h3>
                        <p>Ser l√≠deres reconocidos en el ecosistema emprendedor digital, inspirando y capacitando a millones de emprendedores para alcanzar su m√°ximo potencial, innovando constantemente y adapt√°ndonos a las necesidades del mercado.</p>
                        <h3>Valores</h3>
                        <ul>
                            <li><strong>1. Innovaci√≥n:</strong> Cada soluci√≥n debe ser original y disruptiva, no solo funcional.</li>
                            <li><strong>2. Accesibilidad:</strong> La tecnolog√≠a debe ser f√°cil de usar, sin barreras t√©cnicas.</li>
                            <li><strong>3. Confianza:</strong> El usuario debe sentir seguridad y claridad al tomar decisiones.</li>
                            <li><strong>3. Confianza:</strong> El usuario debe sentir seguridad y claridad al tomar decisiones.</li>
                            <li><strong>4. Crecimiento estrat√©gico:</strong> No solo resolvemos problemas, sino que impulsamos negocios a largo plazo.</li>
                            <li><strong>5. Enfoque en resultados:</strong> Cada herramienta debe impactar directamente la rentabilidad y sostenibilidad del negocio.</li>
                        </ul>
                    </div>
                    <div class="golden-circle">
                        <h3>Nuestro Prop√≥sito se basa en el C√≠rculo Dorado: ¬øPor qu√©? ¬øC√≥mo? ¬øQu√©?</h3>
                    </div>
                </section>
                <!-- Bot√≥n de colapsar al final de la tarjeta -->
                <div class="flex justify-center mt-4">
                    <span class="accordion-icon accordion-footer-collapse-btn cursor-pointer text-4xl leading-none">&minus;</span>
                </div>
            </div>
        </div>

        <!-- Tarjeta para la secci√≥n de Prototipos -->
        <div class="accordion-card prototipos-card" data-section-id="prototipos">
            <div class="accordion-header">
                <h2>Nuestros Prototipos</h2>
                <span class="accordion-icon">+</span>
            </div>
            <div class="accordion-content">
                <section class="prototipos-section">
                    <p>Transformamos tus ideas en realidades digitales, prototipos que no solo son funcionales, sino que venden una experiencia √∫nica y diferencial para el re-emprendedor.</p>
                    <div class="prototipos-grid">
                        <!-- Prototipo 1: Libro Digital / App de Cabeza de Pollo -->
                        <div class="prototipo-item">
                            <h3>"Prototipo: Libro Digital Interactivo"</h3>
                            <div class="video-container">
                                <video class="prototipo-video" autoplay loop muted playsinline>
                                    <source src="{% static 'core/clip_demo_libro_digital_app.mp4' %}" type="video/mp4">
                                    Tu navegador no soporta el elemento de video.
                                </video>
                            </div>
                            <p>Convierte tu contenido en una experiencia inmersiva. Ideal para cursos, gu√≠as o cat√°logos interactivos, llevando el aprendizaje y la informaci√≥n a otro nivel.</p>
                            <!-- A√±adido onclick para WhatsApp -->
                            <button class="cta-button" onclick="openWhatsAppForPrototype('Libro Digital Interactivo')">¬°Explora la Demo!</button>
                        </div>

                        <!-- Prototipo 2: Calculadora de Precios de Platos -->
                        <div class="prototipo-item">
                            <h3>"Prototipo: Calculadora de Costos para Restaurantes"</h3>
                            <div class="video-container">
                                <video class="prototipo-video" autoplay loop muted playsinline>
                                    <source src="{% static 'core/clip_demo_calculadora_precios_platos_app.mp4' %}" type="video/mp4">
                                    Tu navegador no soporta el elemento de video.
                                </video>
                            </div>
                            <p>Optimiza la rentabilidad de tu negocio gastron√≥mico. Calcula costos de ingredientes y precios de venta de forma precisa y sencilla.</p>
                            <!-- A√±adido onclick para WhatsApp -->
                            <button class="cta-button" onclick="openWhatsAppForPrototype('Calculadora de Costos para Restaurantes')">Calcula tu Rentabilidad</button>
                        </div>

                        <!-- Prototipo 3: Dise√±ador de U√±as / SPA -->
                        <div class="prototipo-item">
                            <h3>"Prototipo: Dise√±ador de U√±as Virtual para SPAs"</h3>
                            <div class="video-container">
                                <video class="prototipo-video" autoplay loop muted playsinline>
                                    <source src="{% static 'core/clip_demo_dise√±ador_de_u√±as_app.mp4' %}" type="video/mp4">
                                    Tu navegador no soporta el elemento de video.
                                </video>
                            </div>
                            <p>Visualiza dise√±os de u√±as en tiempo real sobre la mano del cliente. Una herramienta interactiva que revoluciona la experiencia en tu sal√≥n de belleza.</p>
                            <!-- A√±adido onclick para WhatsApp -->
                            <button class="cta-button" onclick="openWhatsAppForPrototype('Dise√±ador de U√±as Virtual para SPAs')">Dise√±a tu Estilo</button>
                        </div>

                        <!-- Prototipo 4: Cabeza de Pollo (App de Gesti√≥n) -->
                        <div class="prototipo-item">
                            <h3>"Prototipo: App de Gesti√≥n Empresarial 'Cabeza de Pollo'"</h3>
                            <div class="video-container">
                                <video class="prototipo-video" autoplay loop muted playsinline>
                                    <source src="{% static 'core/clip_demo_final_cabeza_de_pollo_app.mp4' %}" type="video/mp4">
                                    Tu navegador no soporta el elemento de video.
                                </video>
                            </div>
                            <p>Simplifica la administraci√≥n de tu negocio. Controla inventario, ventas y clientes desde una interfaz intuitiva y eficiente, liber√°ndote de las "cabezas de pollo".</p>
                            <!-- A√±adido onclick para WhatsApp -->
                            <button class="cta-button" onclick="openWhatsAppForPrototype('App de Gesti√≥n Empresarial Cabeza de Pollo')">Organiza tu Negocio</button>
                        </div>
                    </div>
                </section>
                <!-- Bot√≥n de colapsar al final de la tarjeta -->
                <div class="flex justify-center mt-4">
                    <span class="accordion-icon accordion-footer-collapse-btn cursor-pointer text-4xl leading-none">&minus;</span>
                </div>
            </div>
        </div>

        <!-- Tarjeta para la secci√≥n de Testimonios -->
        <div class="accordion-card testimonios-card" data-section-id="testimonios">
            <div class="accordion-header">
                <h2>Lo Que Dicen Nuestros Emprendedores</h2>
                <span class="accordion-icon">+</span>
            </div>
            <div class="accordion-content">
                <section class="testimonios-section">
                    <div class="testimonios-grid">
                        <div class="testimonio-item">
                            <div class="testimonio-foto-placeholder"></div>
                            <p>"Pa'arriba me ayud√≥ a lanzar mi tienda online de artesan√≠as. Su asesoramiento fue clave para digitalizar mi negocio y aumentar mis ventas. ¬°Totalmente recomendados!"</p>
                            <p class="autor">- Ana Mar√≠a, Artesana Digital</p>
                        </div>
                        <div class="testimonio-item">
                            <div class="testimonio-foto-placeholder"></div>
                            <p>"Gracias a Pa'arriba, pude entender mejor mis finanzas y optimizar mis recursos. Su enfoque pr√°ctico y sus prototipos me dieron la claridad que necesitaba para crecer."</p>
                            <p class="autor">- Carlos R., Emprendedor Financiero</p>
                        </div>
                        <div class="testimonio-item">
                            <div class="testimonio-foto-placeholder"></div>
                            <p>"El equipo de Pa'arriba es excepcional. Con su plataforma educativa, mis empleados mejoraron sus habilidades digitales, y nuestro negocio experiment√≥ un crecimiento exponencial."</p>
                            <p class="autor">- Sof√≠a P., Directora de Pyme</p>
                        </div>
                    </div>
                </section>
                <!-- Bot√≥n de colapsar al final de la tarjeta -->
                <div class="flex justify-center mt-4">
                    <span class="accordion-icon accordion-footer-collapse-btn cursor-pointer text-4xl leading-none">&minus;</span>
                </div>
            </div>
        </div>

        <!-- Tarjeta de Acorde√≥n para la Tienda -->
        <div class="accordion-card rounded-xl shadow-lg mb-6 overflow-hidden" id="tienda-card">
            <div class="accordion-header">
                <h2 class="text-3xl font-extrabold flex items-center text-[var(--color-orange-accent)] text-pa-arriba-orange-force">
                    <i class="fas fa-shopping-cart text-[var(--color-orange-accent)] text-4xl mr-3 text-pa-arriba-orange-force"></i>
                    Tienda
                </h2>
                <span class="accordion-icon">+</span>
            </div>
            <!-- MODIFICADO: Se ha movido el padding 'p-6' a un div interno para asegurar que 'max-height: 0' oculte completamente el contenido. -->
            <div class="accordion-content rounded-b-xl"> 
                <div class="p-6"> <!-- Nuevo contenedor para el padding -->
            <p class="store-subtitle-paragraph text-lg mb-4 leading-relaxed">                        
            Explora nuestra selecci√≥n de herramientas, recursos y productos digitales dise√±ados para impulsar tu emprendimiento. ¬°Crece, avanza, mejora, re-emprende con las mejores soluciones a tu alcance!
                    </p>
                    <!-- INICIO: Contenido de la Tienda -->
                    <div id="store-content" class="flex flex-col items-center min-h-[300px] bg-gray-50 p-6 rounded-lg shadow-inner border border-dashed border-gray-300 text-gray-500 text-center">
                        <!-- T√≠tulo de la secci√≥n de categor√≠as -->
                        <h3 class="text-3xl font-bold text-gray-800 mb-8">Explora Nuestras Categor√≠as</h3>
                        
                        <!-- Contenedor de las categor√≠as (Grid Responsivo) -->
                        <div id="category-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-5xl mb-12">
                            
                            <!-- Categor√≠a 1: Herramientas Digitales -->
                            <div class="category-card bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:scale-105 cursor-pointer flex flex-col items-center text-center border border-gray-200" data-category="herramientas">
                                <i class="fas fa-tools text-pa-arriba-orange-force text-5xl mb-4"></i>
                                <h4 class="text-xl font-semibold text-gray-800 mb-2">Herramientas Digitales</h4>
                                <p class="text-gray-600 text-sm">Software, aplicaciones y utilidades para optimizar tu trabajo.</p>
                            </div>

                            <!-- Categor√≠a 2: Cursos y Capacitaciones -->
                            <div class="category-card bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:scale-105 cursor-pointer flex flex-col items-center text-center border border-gray-200" data-category="cursos">
                                <i class="fas fa-graduation-cap text-pa-arriba-orange-force text-5xl mb-4"></i>
                                <h4 class="text-xl font-semibold text-gray-800 mb-2">Cursos y Capacitaciones</h4>
                                <p class="text-gray-600 text-sm">Aprende nuevas habilidades y estrategias para tu negocio.</p>
                            </div>

                            <!-- Categor√≠a 3: Servicios de Consultor√≠a -->
                            <div class="category-card bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:scale-105 cursor-pointer flex flex-col items-center text-center border border-gray-200" data-category="consultoria">
                                <i class="fas fa-handshake text-pa-arriba-orange-force text-5xl mb-4"></i>
                                <h4 class="text-xl font-semibold text-gray-800 mb-2">Servicios de Consultor√≠a</h4>
                                <p class="text-gray-600 text-sm">Asesoramiento personalizado para tus desaf√≠os espec√≠ficos.</p>
                            </div>

                            <!-- Categor√≠a 4: Plantillas y Recursos -->
                            <div class="category-card bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:scale-105 cursor-pointer flex flex-col items-center text-center border border-gray-200" data-category="plantillas">
                                <i class="fas fa-file-alt text-pa-arriba-orange-force text-5xl mb-4"></i>
                                <h4 class="text-xl font-semibold text-gray-800 mb-2">Plantillas y Recursos</h4>
                                <p class="text-gray-600 text-sm">Documentos, dise√±os y materiales listos para usar.</p>
                            </div>

                        </div>

                        <!-- Contenedor para la secci√≥n de Productos Destacados como un acorde√≥n anidado -->
                        <div id="product-listing-accordion" class="w-full max-w-5xl rounded-xl shadow-lg overflow-hidden border border-gray-200 hidden"> 
                            <div class="product-listing-header accordion-header bg-pa-arriba-orange-force text-white p-4 flex justify-between items-center cursor-pointer rounded-t-xl">
                                <h3 id="product-listing-title" class="text-xl font-bold">Productos Destacados</h3>
                                <span class="accordion-icon text-white text-3xl leading-none">+</span>
                            </div>
                            <div class="product-listing-content accordion-content p-6 bg-white rounded-b-xl">
                                <div id="products-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 items-stretch">
                                    <!-- Los productos se insertar√°n aqu√≠ din√°micamente -->
                                </div>
                                <!-- Bot√≥n para volver a todas las categor√≠as -->
                                <button id="back-to-categories-btn" class="mt-8 bg-gray-200 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors duration-300 w-full">
                                    <i class="fas fa-arrow-left mr-2"></i> Volver a Todas las Categor√≠as
                                </button>
                                <!-- Bot√≥n de colapsar al final de la tarjeta de productos destacados -->
                                <div class="flex justify-center mt-4">
                                    <span class="accordion-icon accordion-footer-collapse-btn cursor-pointer text-4xl leading-none">&minus;</span>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <!-- FIN: Contenido de la Tienda -->
                </div> <!-- Cierre del nuevo contenedor para el padding -->
            </div>
        </div>


        <!-- Tarjeta para la secci√≥n de Footer -->
        <div class="accordion-card footer-card" data-section-id="footer">
            <div class="accordion-header">
                <h2>Informaci√≥n de Contacto</h2>
                <span class="accordion-icon">+</span>
            </div>
            <div class="accordion-content">
                <footer class="footer-section">
                    <div class="footer-content" style="display: block;">
                        <p>CONTACTO: <a href="mailto:info@pa-arriba.com">paarriba.ec@gmail.com</a></p>
<p class="mt-2">
  WHATSAPP: 
  <a 
    href="https://wa.me/593997277796?text=Hola%20Pa%E2%80%99Arriba%2C%20quiero%20mejorar%20mi%20negocio%20y%20necesito%20una%20gu%C3%ADa%20personalizada." 
    target="_blank" 
    class="text-pa-arriba-orange font-semibold hover:underline"
  >
    +593 997 277 796
  </a>
</p>
                        <div class="social-links">
                            <a href="https://www.facebook.com/PaArribaEC" target="_blank">Facebook</a>
                            <a href="https://www.instagram.com/paarribaec/" target="_blank">Instagram</a>
                            <a href="#" target="_blank">LinkedIn</a>
                        </div>
                    <p class="mt-4">
                        <a href="{% url 'privacy_policy' %}" class="text-pa-arriba-orange hover:underline">Pol√≠tica de Privacidad</a>
                    </p>
                    </div>
                    <p class="copyright">&copy; 2025 Pa'arriba. Crece, Avanza, Mejora, Re-emprende.</p>
                </footer>
            </div>
        </div>
        <div class="footer-legal-preview text-center text-sm text-gray-500 mt-6">
  <p>
    <a href="/privacy-policy/" class="text-pa-arriba-orange hover:underline">Pol√≠tica de Privacidad</a>
  </p>
  <p class="mt-1 text-xs">&copy; 2025 Pa‚ÄôArriba. Crece, Avanza, Mejora, Re-emprende.</p>
</div>

    </main>
    <!-- FIN NUEVO: Contenedor principal para las tarjetas de acorde√≥n -->

    <!-- Modal de Detalles de Producto -->
    <div id="product-detail-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md relative transform transition-all scale-95 opacity-0 duration-300 ease-out">
            <button id="close-modal-btn" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800 text-2xl font-bold">&times;</button>
            <div class="text-center">
                <img id="modal-product-image" src="" alt="Imagen del Producto" class="w-48 h-48 object-cover rounded-lg mx-auto mb-4">
                <h3 id="modal-product-name" class="text-2xl font-bold text-gray-800 mb-2"></h3>
                <p id="modal-product-description" class="text-gray-600 text-md mb-4"></p>
                <span id="modal-product-price" class="text-pa-arriba-orange-force font-bold text-xl mb-6 block"></span>
                <!-- Elemento para el mensaje de confirmaci√≥n -->
                <div id="buy-now-message" class="text-green-600 font-semibold mb-4 hidden"></div>
                <button id="buy-now-btn" class="bg-pa-arriba-orange-force text-white px-6 py-3 rounded-lg hover:bg-orange-600 transition-colors duration-300">Comprar Ahora</button>
            </div>
        </div>
    </div>
    <!-- FIN NUEVO: Modal de Detalles de Producto -->

<script>
// Funci√≥n para encender/apagar la bombilla y mostrar/ocultar las tarjetas de acorde√≥n
function toggleBulb() {
    const bulbSvg = document.querySelector('.bulb-svg'); // Selecciona el SVG
    const lightbulbContainer = document.querySelector('.lightbulb-container'); // Selecciona el contenedor de la bombilla
    bulbSvg.classList.toggle('on'); // Aplica la clase 'on' al SVG

    const accordionContainer = document.getElementById('accordion-container');
    accordionContainer.classList.toggle('revealed');

    // Reproducir sonido de bombilla
    const bulbSound = document.getElementById('bulbSound');
    if (bulbSound) {
        bulbSound.currentTime = 0; // Reinicia el sonido si ya se est√° reproduciendo
        bulbSound.play().catch(e => console.error("Error al reproducir sonido de bombilla:", e));
    }

    // Reproducir/pausar m√∫sica de fondo
    const spaceMusic = document.getElementById('spaceMusic');
    if (spaceMusic) {
        if (accordionContainer.classList.contains('revealed')) { // Basado en si las tarjetas est√°n visibles
            spaceMusic.volume = 0.035; // Volumen inicial suave
            spaceMusic.play().catch(e => console.error("Error al reproducir m√∫sica espacial:", e));
        } else {
            spaceMusic.pause();
            spaceMusic.currentTime = 0; // Reinicia la m√∫sica al apagar
        }
    }
}

// Funci√≥n para abrir WhatsApp con un mensaje predefinido para prototipos
function openWhatsAppForPrototype(prototypeName) {
    const phoneNumber = '593999032276'; // Reemplaza con tu n√∫mero de WhatsApp
    const message = `¬°Hola! Me interesa el prototipo "${prototypeName}". ¬øPodr√≠as darme m√°s informaci√≥n?`;
    const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
    window.open(whatsappUrl, '_blank'); // Abre el enlace en una nueva pesta√±a
}

// Funci√≥n para expandir/contraer las tarjetas de acorde√≥n
function toggleAccordionCard(event) {
    const header = event.currentTarget; // El elemento clickeado (accordion-header o accordion-footer-collapse-btn)
    const card = header.closest('.accordion-card'); // La tarjeta de acorde√≥n padre
    const content = card.querySelector('.accordion-content');
    const icon = header.querySelector('.accordion-icon');

    // Cierra cualquier otra tarjeta abierta (para que solo una est√© expandida a la vez)
    document.querySelectorAll('.accordion-card.expanded').forEach(openCard => {
        if (openCard !== card) { // Si no es la tarjeta actual
            openCard.classList.remove('expanded');
            openCard.querySelector('.accordion-content').style.maxHeight = '0';
            openCard.querySelector('.accordion-icon').textContent = '+';
            // Ocultar el contenido de la secci√≥n/footer interna
            const openCardContentElement = openCard.querySelector('.accordion-content > div'); // Selecciona el div interno con padding
            if (openCardContentElement) {
                openCardContentElement.style.display = 'none';
            }
            // Pausar videos de otras tarjetas si est√°n reproduci√©ndose
            openCard.querySelectorAll('.prototipo-video').forEach(video => {
                video.pause();
                video.currentTime = 0; // Reiniciar video
            });
            // Si la tarjeta que se cierra es la de la tienda, asegurarse de que se muestren las categor√≠as
            if (openCard.id === 'tienda-card') {
                document.getElementById('category-grid').classList.remove('hidden');
                document.getElementById('product-listing-accordion').classList.add('hidden');
                toggleProductListingAccordion(false); // Colapsar el acorde√≥n de productos si estaba abierto
            }
        }
    });

    

    // Alterna el estado de la tarjeta actual
    card.classList.toggle('expanded');
    const currentContentInnerWrapper = content.querySelector('div'); // Selecciona el div interno con padding

    if (card.classList.contains('expanded')) {
        if (currentContentInnerWrapper) {
            currentContentInnerWrapper.style.display = 'block'; // Muestra el div interno
        }
        // Calcular scrollHeight basado en el div interno con padding
        content.style.maxHeight = currentContentInnerWrapper.scrollHeight + 'px'; 
        icon.textContent = '-';
        // Reproducir videos de la tarjeta actual
        card.querySelectorAll('.prototipo-video').forEach(video => {
            video.play().catch(e => console.error("Error al reproducir video de prototipo:", e));
        });
    } else {
        content.style.maxHeight = '0'; // Contrae
        icon.textContent = '+';
        if (currentContentInnerWrapper) {
            currentContentInnerWrapper.style.display = 'none'; // Oculta el div interno
        }
        // Pausar videos de la tarjeta actual
        card.querySelectorAll('.prototipo-video').forEach(video => {
            video.pause();
            video.currentTime = 0; // Reiniciar video
        });
        // Si la tarjeta que se cierra es la de la tienda, asegurarse de que se muestren las categor√≠as
        if (card.id === 'tienda-card') {
            document.getElementById('category-grid').classList.remove('hidden');
            document.getElementById('product-listing-accordion').classList.add('hidden');
            toggleProductListingAccordion(false); // Colapsar el acorde√≥n de productos si estaba abierto
        }
    }
}

// Funci√≥n para manejar el acorde√≥n de productos destacados dentro de la tienda
function toggleProductListingAccordion(expand = false) {
    const productListingAccordion = document.getElementById('product-listing-accordion');
    const productListingHeader = productListingAccordion.querySelector('.product-listing-header');
    const productListingContent = productListingAccordion.querySelector('.product-listing-content');
    const productListingIcon = productListingHeader.querySelector('.accordion-icon');

    if (expand) {
        productListingAccordion.classList.add('expanded');
        productListingAccordion.classList.remove('hidden'); // Asegurarse de que sea visible
        // Peque√±o retraso para permitir que el elemento se haga visible antes de calcular scrollHeight
        setTimeout(() => {
            productListingContent.style.maxHeight = productListingContent.scrollHeight + 'px';
        }, 10);
        productListingIcon.textContent = '-';
    } else {
        productListingAccordion.classList.remove('expanded');
        productListingContent.style.maxHeight = '0';
        productListingIcon.textContent = '+';
        // Ocultar completamente despu√©s de la transici√≥n
        setTimeout(() => {
            productListingAccordion.classList.add('hidden');
        }, 300); // Coincide con la duraci√≥n de la transici√≥n CSS
    }
}


// A√±adir event listeners a los headers y botones de pie de p√°gina de las tarjetas cuando el DOM est√© cargado
document.addEventListener('DOMContentLoaded', () => {
  const accordionHeaders = document.querySelectorAll('.accordion-header');
  accordionHeaders.forEach(header => {
    header.addEventListener('click', toggleAccordionCard);
  });

  // üéØ Botones de colapsar en pie de p√°gina de las tarjetas
  const footerCollapseButtons = document.querySelectorAll('.accordion-footer-collapse-btn');
  footerCollapseButtons.forEach(button => {
    button.addEventListener('click', (event) => {
      const card = event.target.closest('.accordion-card');
      if (card) {
        card.querySelector('.accordion-header').click();
      }
    });
  });

  // üë£ Expande autom√°ticamente la tarjeta del footer al cargar
  const footerAccordion = document.querySelector('.footer-card');
  if (footerAccordion) {
    footerAccordion.classList.add('expanded');

    const footerHeader = footerAccordion.querySelector('.accordion-header');
    const footerContent = footerAccordion.querySelector('.accordion-content');
    const footerIcon = footerHeader?.querySelector('.accordion-icon');

    if (footerContent) {
      footerContent.style.maxHeight = footerContent.scrollHeight + 'px';
      footerContent.classList.remove('hidden');
    }

    if (footerIcon) {
      footerIcon.textContent = '-';
    }
  }
});

    // --- L√≥gica de la Tienda ---

    // Array de productos (datos de ejemplo)
const products = [
  // üß∞ Herramientas Digitales
  {
    id: 'h1',
    name: 'Kit SEO para Negocios Locales',
    category: 'herramientas',
    description: 'Haz que tu negocio aparezca en Google y en b√∫squedas locales sin ser experto en SEO. Este kit incluye auditor√≠a, palabras clave estrat√©gicas y seguimiento pr√°ctico.',
    price: '49.99',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=SEO+Kit',
    impact: 'Aumenta tu visibilidad digital',
    targetUser: 'Emprendedores sin equipo de marketing',
    technicalLevel: 'B√°sico',
    timeToImplement: '1 hora'
  },
  {
    id: 'h2',
    name: 'Apps y Webs para Proyectos Peque√±os',
    category: 'herramientas',
    description: 'Soluciones digitales personalizadas desde $9.99 para organizar, comunicar y ejecutar tareas en peque√±os negocios o emprendimientos. Precio seg√∫n funcionalidad.',
    price: '9.99',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Apps+Proyectos',
    impact: 'Digitaliza tu operaci√≥n sin complicaciones',
    targetUser: 'Emprendedores multitarea',
    technicalLevel: 'Intermedio',
    timeToImplement: 'Dependiendo del requerimiento'
  },
  {
    id: 'h3',
    name: 'App de Email Marketing para Emprendedores',
    category: 'herramientas',
    description: 'Automatiza tus campa√±as de correo, conecta con tus clientes y vende sin complicarte. Especialmente dise√±ada para emprendedores con tiempo limitado.',
    price: '29.99',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Email+Mkt+App',
    impact: 'Genera clientes recurrentes con correos efectivos',
    targetUser: 'Negocios en crecimiento que venden online',
    technicalLevel: 'B√°sico',
    timeToImplement: '1 hora'
  },

  // üìö Cursos y Capacitaciones
  {
    id: 'c1',
    name: 'Curso a Domicilio de Marketing Digital (20h)',
    category: 'cursos',
    description: 'Aprende a vender en redes, buscadores y por contenido desde cero. Este curso presencial est√° dise√±ado para emprendedores autodidactas que quieren dominar el marketing sin complicarse.',
    price: '200.00',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Curso+Mkt+Domicilio',
    impact: 'Activa tus ventas online desde casa',
    targetUser: 'Emprendedores sin formaci√≥n t√©cnica',
    technicalLevel: 'B√°sico a Intermedio',
    timeToImplement: '20 horas presenciales'
  },
  {
    id: 'c2',
    name: 'Certificaci√≥n en Control de Costos para Emprendedores',
    category: 'cursos',
    description: 'Aprende a calcular correctamente el precio de venta de tus productos y servicios. Este curso te da la claridad financiera que tu negocio necesita para crecer con rentabilidad.',
    price: '29.99',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Control+de+Costos',
    impact: 'Optimiza tu rentabilidad desde el precio',
    targetUser: 'Negocios sin claridad financiera',
    technicalLevel: 'B√°sico',
    timeToImplement: '1 d√≠a'
  },
  {
    id: 'c3',
    name: 'Crea tu Web sin Programar y Vende Online (15h)',
    category: 'cursos',
    description: 'Dise√±a tu sitio web y activa tu canal de ventas online sin saber c√≥digo. Te guiamos paso a paso para que lances tu plataforma digital en s√≥lo 15 horas.',
    price: '150.00',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Bootcamp+Web',
    impact: 'Genera presencia digital sin depender de t√©cnicos',
    targetUser: 'Negocios que a√∫n no tienen p√°gina web',
    technicalLevel: 'B√°sico',
    timeToImplement: '15 horas intensivas'
  },

  // üßë‚Äçüíº Servicios de Consultor√≠a
  {
    id: 's1',
    name: 'Consultor√≠a Estrat√©gica Personalizada (1h)',
    category: 'consultoria',
    description: 'En esta sesi√≥n 1:1 descubrimos oportunidades, aclaramos bloqueos y trazamos acciones rentables para tu negocio. Ideal para emprendedores en fase de reinvenci√≥n.',
    price: '9.50',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Consultoria+1h',
    impact: 'Define tu direcci√≥n con claridad',
    targetUser: 'Emprendedores indecisos o en transici√≥n',
    technicalLevel: 'No t√©cnico',
    timeToImplement: '1 hora'
  },
  {
    id: 's2',
    name: 'Auditor√≠a SEO con Recomendaciones Pr√°cticas',
    category: 'consultoria',
    description: 'Revisamos tu sitio y te entregamos un plan para posicionarte mejor en buscadores. Te decimos qu√© mejorar y c√≥mo hacerlo, sin tecnicismos.',
    price: '36.00',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Auditor√≠a+SEO',
    impact: 'Atrae m√°s clientes v√≠a Google',
    targetUser: 'Negocios con p√°gina web activa',
    technicalLevel: 'Intermedio',
    timeToImplement: '3 horas estimadas'
  },
  {
    id: 's3',
    name: 'Mentor√≠a Semanal de Marketing Digital (10h)',
    category: 'consultoria',
    description: 'Durante la semana, te guiamos en campa√±as reales, ajustes de estrategia, y generaci√≥n de resultados concretos. Trabajo intensivo para negocios que quieren crecer cada semana.',
    price: '60.00',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Mentor√≠a+Semanal',
    impact: 'Evoluciona tu marketing semana a semana',
    targetUser: 'Negocios que necesitan acompa√±amiento activo',
    technicalLevel: 'Intermedio',
    timeToImplement: '10 horas semanales'
  },

  // üì¶ Plantillas y Recursos
  {
    id: 'p1',
    name: 'Plantillas Profesionales para Redes Sociales',
    category: 'plantillas',
    description: 'Dise√±os modernos y editables listos para tus publicaciones en Instagram, Facebook y TikTok. Ideal para emprendedores que quieren ahorrar tiempo sin perder calidad.',
    price: '4.99',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Plantillas+RRSS',
    impact: 'Publica contenido profesional sin pagar dise√±ador',
    targetUser: 'Negocios que gestionan sus propias redes',
    technicalLevel: 'B√°sico',
    timeToImplement: 'Menos de 1 hora'
  },
  {
    id: 'p2',
    name: 'Gu√≠a Editable para tu Plan de Negocios',
    category: 'plantillas',
    description: 'Completa esta gu√≠a con tus datos y define tu idea, tus costos, tus proyecciones y tu modelo. Ideal para negocios nuevos o en redise√±o.',
    price: '9.99',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Gu√≠a+Negocios',
    impact: 'Estructura tu idea para convertirla en empresa',
    targetUser: 'Emprendedores en etapa inicial',
    technicalLevel: 'B√°sico',
    timeToImplement: '2 horas'
  },
  {
    id: 'p3',
    name: 'Kit Gr√°fico para Emprendedores',
    category: 'plantillas',
    description: 'Recursos visuales editables que incluyen iconos, banners, fondos, y mockups para redes sociales, presentaciones y p√°ginas web. Profesionaliza tu imagen sin pagar dise√±o gr√°fico.',
    price: '4.99',
    image: 'https://placehold.co/150x150/E0E0E0/333333?text=Kit+Gr√°fico',
    impact: 'Haz que tu marca luzca profesional desde el d√≠a uno',
    targetUser: 'Negocios que necesitan mejorar su imagen visual',
    technicalLevel: 'B√°sico',
    timeToImplement: 'Menos de 1 hora'
  }
];

    const categoryGrid = document.getElementById('category-grid');
    const productListingAccordion = document.getElementById('product-listing-accordion'); // Referencia al nuevo acorde√≥n
    const productsGrid = document.getElementById('products-grid');
    const productListingTitle = document.getElementById('product-listing-title');
    const backToCategoriesBtn = document.getElementById('back-to-categories-btn');

    // Elementos del modal
    const productDetailModal = document.getElementById('product-detail-modal');
    const closeModalBtn = document.getElementById('close-modal-btn');
    const modalProductImage = document.getElementById('modal-product-image');
    const modalProductName = document.getElementById('modal-product-name');
    const modalProductDescription = document.getElementById('modal-product-description');
    const modalProductPrice = document.getElementById('modal-product-price');
    const buyNowBtn = document.getElementById('buy-now-btn');
    const buyNowMessage = document.getElementById('buy-now-message'); // Elemento para el mensaje

    let currentProduct = null; // Variable para almacenar el producto actual en el modal

    // Funci√≥n para mostrar productos en el grid
    function displayProducts(category = null) {
        productsGrid.innerHTML = ''; // Limpiar productos existentes
        let filteredProducts = products;
        let titleText = "Productos Destacados";

        if (category) {
            filteredProducts = products.filter(product => product.category === category);
            // Capitalizar la primera letra de la categor√≠a para el t√≠tulo
            titleText = `Productos de ${category.charAt(0).toUpperCase() + category.slice(1)}`;
            categoryGrid.classList.add('hidden'); // Ocultar categor√≠as
            productListingAccordion.classList.remove('hidden'); // Mostrar el acorde√≥n de productos
            toggleProductListingAccordion(true); // Expandir el acorde√≥n de productos
        } else {
            // Si no hay categor√≠a seleccionada, mostrar las categor√≠as y ocultar el acorde√≥n de productos
            categoryGrid.classList.remove('hidden');
            productListingAccordion.classList.add('hidden'); // Ocultar el acorde√≥n de productos
            toggleProductListingAccordion(false); // Colapsar el acorde√≥n de productos
        }

        productListingTitle.textContent = titleText; // Actualizar t√≠tulo

        if (filteredProducts.length > 0) {
            filteredProducts.forEach(product => {
                // MODIFICADO: Estilo de la tarjeta de producto para que se parezca a la de categor√≠a
                const productCard = `
                    <div class="product-card bg-white p-6 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300 transform hover:scale-105 cursor-pointer flex flex-col items-center text-center border border-gray-200">
                        <div> <!-- Contenedor para imagen, t√≠tulo, descripci√≥n y precio -->
                            <img src="${product.image}" alt="${product.name}" class="w-32 h-32 object-cover rounded-lg mx-auto mb-4">
                            <h4 class="text-xl font-semibold text-gray-800 mb-2">${product.name}</h4>
                            <p class="text-gray-600 text-sm mb-3">${product.description}</p>
                            <!-- NUEVOS CAMPOS -->
<div class="text-sm text-gray-700 mb-3 space-y-1 text-left">
  <p><strong>Impacto:</strong> ${product.impact || '‚Äî'}</p>
  <p><strong>Para:</strong> ${product.targetUser || '‚Äî'}</p>
  <p><strong>Nivel t√©cnico:</strong> ${product.technicalLevel || '‚Äî'}</p>
  <p><strong>Implementaci√≥n:</strong> ${product.timeToImplement || '‚Äî'}</p>
</div>
                            <span class="text-pa-arriba-orange-force font-bold text-lg mb-4 block">\$${product.price}</span>
                        </div>
<button class="cta-button-small text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors duration-300 w-full" style="background-color: #ff5c00;" data-product-id="${product.id}">
  Ver Detalles
</button>
                `;
                productsGrid.innerHTML += productCard;
            });

            // A√±adir event listeners a los nuevos botones "Ver Detalles"
            productsGrid.querySelectorAll('.cta-button-small[data-product-id]').forEach(button => {
                button.addEventListener('click', (event) => {
                    const productId = event.target.dataset.productId;
                    openProductModal(productId);
                });
            });

        } else {
            productsGrid.innerHTML = '<p class="text-gray-600">No hay productos disponibles en esta categor√≠a.</p>';
        }
    }

    // Funci√≥n para abrir el modal de detalles del producto
    function openProductModal(productId) {
        currentProduct = products.find(p => p.id === productId); // Almacenar el producto actual
        if (currentProduct) {
            modalProductImage.src = currentProduct.image;
            modalProductImage.alt = currentProduct.name;
            modalProductName.textContent = currentProduct.name;
            modalProductDescription.textContent = currentProduct.description;
            modalProductPrice.textContent = `$${currentProduct.price}`;
            
            // Ocultar cualquier mensaje previo al abrir el modal
            buyNowMessage.classList.add('hidden');
            buyNowMessage.textContent = '';

            // Mostrar el modal con una peque√±a animaci√≥n
            productDetailModal.classList.remove('hidden');
            setTimeout(() => {
                productDetailModal.querySelector('div').classList.remove('scale-95', 'opacity-0');
                productDetailModal.querySelector('div').classList.add('scale-100', 'opacity-100');
            }, 10); // Peque√±o retraso para que la transici√≥n se aplique
        }
    }

    // Funci√≥n para cerrar el modal de detalles del producto
    function closeProductModal() {
        productDetailModal.querySelector('div').classList.remove('scale-100', 'opacity-100');
        productDetailModal.querySelector('div').classList.add('scale-95', 'opacity-0');
        setTimeout(() => {
            productDetailModal.classList.add('hidden');
            currentProduct = null; // Limpiar el producto actual al cerrar el modal
        }, 300); // Coincide con la duraci√≥n de la transici√≥n
    }

    // Funci√≥n para manejar el clic en "Comprar Ahora" (env√≠a a WhatsApp)
    function handleBuyNow() {
        if (currentProduct) {
            // Mostrar mensaje de confirmaci√≥n
            buyNowMessage.textContent = 'Redirigiendo a WhatsApp...';
            buyNowMessage.classList.remove('hidden');
            
            // Deshabilitar el bot√≥n temporalmente para evitar clics m√∫ltiples
            buyNowBtn.disabled = true;
            buyNowBtn.classList.add('opacity-50', 'cursor-not-allowed');

            const phoneNumber = '593997277796'; // Reemplaza con tu n√∫mero de WhatsApp (c√≥digo de pa√≠s + n√∫mero)
            const message = `¬°Hola! Me interesa el producto "${currentProduct.name}" con un precio de $${currentProduct.price}. ¬øPodr√≠as darme m√°s informaci√≥n?`;
            const whatsappUrl = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
            
            // Peque√±o retraso para que el usuario vea el mensaje antes de la redirecci√≥n
            setTimeout(() => {
                window.open(whatsappUrl, '_blank'); // Abre el enlace en una nueva pesta√±a
                closeProductModal(); // Cierra el modal despu√©s de iniciar la compra
                // Restablecer el bot√≥n despu√©s de la acci√≥n
                buyNowBtn.disabled = false;
                buyNowBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }, 1500); // Retraso de 1.5 segundos
        } else {
            console.error("No hay producto seleccionado para comprar.");
        }
    }

    // Event listeners para las tarjetas de categor√≠a
    document.querySelectorAll('.category-card').forEach(card => {
        card.addEventListener('click', () => {
            const category = card.dataset.category;
            displayProducts(category);
        });
    });

    // Event listener para el bot√≥n "Volver a Todas las Categor√≠as"
    backToCategoriesBtn.addEventListener('click', () => {
        displayProducts(null); // Mostrar todas las categor√≠as y productos destacados
    });

    // Event listener para el header del acorde√≥n de productos destacados
    productListingAccordion.querySelector('.product-listing-header').addEventListener('click', () => {
        toggleProductListingAccordion(productListingAccordion.classList.contains('expanded') ? false : true);
    });

    // Event listener para el bot√≥n de colapsar en el pie del acorde√≥n de productos destacados
    productListingAccordion.querySelector('.product-listing-content .accordion-footer-collapse-btn').addEventListener('click', () => {
        toggleProductListingAccordion(false); // Siempre colapsar
    });


    // Event listeners para cerrar el modal
    closeModalBtn.addEventListener('click', closeProductModal);
    productDetailModal.addEventListener('click', (event) => {
        // Cierra el modal si se hace clic en el overlay (fuera del contenido del modal)
        if (event.target === productDetailModal) {
            closeProductModal();
        }
    });

    // Event listener para el bot√≥n "Comprar Ahora"
    buyNowBtn.addEventListener('click', handleBuyNow);

    // Mostrar productos destacados al cargar la p√°gina inicialmente
    displayProducts(null); // Esto mostrar√° las categor√≠as y los productos destacados por defecto.

    // --- Fin L√≥gica de la Tienda ---


// JavaScript para el header sticky - Revisado para evitar saltos
window.addEventListener('scroll', function() {
    const stickyHeaderContent = document.querySelector('.sticky-header-content');
    const stickyHeaderWrapper = document.querySelector('.sticky-header-wrapper'); // Nuevo wrapper
    const heroSection = document.querySelector('.hero-section');

    // Obtener la altura din√°mica del sticky header content
    const stickyHeight = stickyHeaderContent.offsetHeight; 
    // El punto de activaci√≥n es cuando el scroll supera la altura de la secci√≥n hero menos la altura del sticky header
    const activationPoint = heroSection.offsetHeight - stickyHeight;

    if (window.scrollY > activationPoint) {
        stickyHeaderContent.classList.add('is-sticky');
        // Ajustar el padding del wrapper para mantener el espacio
        stickyHeaderWrapper.style.height = stickyHeight + 'px'; 
    } else {
        stickyHeaderContent.classList.remove('is-sticky');
        stickyHeaderWrapper.style.height = 'auto'; // Restablecer la altura del wrapper
    }
});

</script>
<!-- INICIO: Estilos CSS para la bombilla - AGREGADOS AL FINAL DEL HTML PARA SIMPLIFICAR LA PRUEBA -->
<!-- En una implementaci√≥n real, estos estilos ir√≠an en style.css -->
<style>
    /* Estilos para el contenedor de la bombilla */
    .lightbulb-container {
        position: absolute; /* O fixed si quieres que siempre se vea en la misma posici√≥n de la ventana */
        /* Ajustar top para que est√© debajo del texto */
        top: 478px; /* Ajustado para que quede m√°s abajo del p√°rrafo */
        left: 50%; /* Centrar horizontalmente */
        transform: translateX(-50%); /* Ajuste para centrado perfecto */
        width: 50px; /* Ancho del contenedor */
        height: 120px; /* Alto del contenedor */
        cursor: pointer;
        z-index: 1000; /* Asegura que est√© por encima de otros elementos */
        transition: opacity 0.5s ease-out, transform 0.5s ease-out; /* Transici√≥n suave */
    }

    /* Clase para ocultar la bombilla */
    .lightbulb-container.hidden-bulb {
        opacity: 0;
        pointer-events: none; /* Deshabilita clics cuando est√° oculta */
        transform: translate(-50%, -50px); /* Opcional: moverla un poco hacia arriba al ocultar */
    }

    /* Estilos del SVG de la bombilla */
    .bulb-svg {
        width: 100%;
        height: 100%;
        overflow: visible; /* Permitir que el glow se extienda */
    }

    .bulb-glass {
        fill: #f0f0f0; /* Color del vidrio de la bombilla apagada */
        stroke: #ccc;
        stroke-width: 1;
        transition: fill 0.5s ease-out;
    }

    .bulb-svg.on .bulb-glass {
        fill: #fff; /* Color del vidrio de la bombilla encendida */
    }

    .glass-reflection {
        fill: #ffffff;
        opacity: 0.7;
    }

    .base-top, .base-middle, .base-bottom {
        fill: #888; /* Color de la base met√°lica */
    }

    .filament {
        fill: none;
        stroke: #666; /* Color del filamento apagado */
        stroke-width: 2;
        transition: stroke 0.5s ease-out;
    }

    .bulb-svg.on .filament {
        stroke: #FFD700; /* Color del filamento encendido (dorado) */
    }

    .chain-line {
        stroke: #555; /* Color de la cadena */
        stroke-width: 2;
        stroke-linecap: round;
    }

    .chain-end {
        fill: #555; /* Color del sujetador de la cadena */
    }

    .bulb-glow {
        fill: #FFD700; /* Color del brillo (dorado) */
        opacity: 0; /* Oculto por defecto */
        transition: opacity 0.5s ease-out;
        filter: blur(8px); /* Efecto de desenfoque para el brillo */
    }

    .bulb-svg.on .bulb-glow {
        opacity: 0.8; /* Mostrar el brillo cuando la bombilla est√° encendida */
    }

    /* Correcci√≥n para eliminar la barra de desplazamiento en el footer */
    .footer-card .accordion-content {
        overflow: hidden; /* Asegura que no haya barras de desplazamiento */
    }
</style>
<!-- FIN: Estilos CSS para la bombilla -->

<!-- Script de tsparticles -->
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>

<!-- Configuraci√≥n personalizada de tsParticles -->
<script>
// Usamos window.onload para asegurar que tsParticles est√© completamente cargado y disponible
window.onload = function () {
    // Verificamos que tsParticles est√© disponible y que el contenedor exista
    if (window.tsParticles && document.getElementById("tsparticles")) {
        tsParticles.load("tsparticles", {
            fullScreen: { enable: false }, // Las part√≠culas no ocupar√°n toda la pantalla, solo el contenedor
            fpsLimit: 60, // Limite de cuadros por segundo para un rendimiento suave
            particles: {
                number: {
                    value: 80, // Cantidad de part√≠culas
                    density: {
                        enable: true,
                        area: 800 // √Årea para la densidad de part√≠culas
                    }
                },
                color: {
                    value: "#FFD700" // Color dorado para las part√≠culas
                },
                opacity: {
                    value: 1, // Opacidad m√°xima para que las part√≠culas sean claramente visibles
                },
                size: {
                    value: 8, // Tama√±o ligeramente mayor para que se noten m√°s
                    random: true // Tama√±o aleatorio para un efecto m√°s natural
                }
                ,
                move: {
                    enable: true, // Habilitar movimiento de part√≠culas
                    speed: 1, // Velocidad de movimiento
                    direction: "none", // Sin direcci√≥n espec√≠fica, se mover√°n aleatoriamente
                    outModes: {
                        default: "bounce" // Rebotar√°n al llegar a los bordes del contenedor
                    }
                }
            },
            interactivity: {
                events: {
                    onHover: {
                        enable: false // Deshabilitar interacci√≥n al pasar el rat√≥n
                    }
                },
                modes: {
                    grab: {
                        distance: 400,
                        links: {
                            opacity: 1
                        }
                    },
                    bubble: {
                        distance: 400,
                        size: 40,
                        duration: 2,
                        opacity: 8,
                        speed: 3
                    },
                    repulse: {
                        distance: 200,
                        duration: 0.4
                    },
                    push: {
                        quantity: 4
                    },
                    remove: {
                        quantity: 2
                    }
                }
            },
            detectRetina: true // Adaptar la densidad de part√≠culas a pantallas retina
        });
    } else {
        // Mensaje de error si la librer√≠a o el contenedor no est√°n disponibles
        console.error("tsParticles no est√° disponible o el contenedor no existe.");
    }
};
</script>
<!-- Audio para el sonido de la bombilla -->
<audio id="bulbSound" src="{% static 'core/light_switch_on.mp3' %}" preload="auto"></audio>
<!-- Audio para el fondo musical espacial -->
<audio id="spaceMusic" src="{% static 'core/space_ambience.wav' %}" preload="auto" loop></audio>
</body>
</html>
